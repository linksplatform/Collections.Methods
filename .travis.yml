language: csharp
sudo: required
dist: xenial
mono: latest
dotnet: 3.0
before_install:
  - sudo apt-get install -y texlive texlive-lang-cyrillic texlive-latex-extra python-pygments ghostscript
  - export TRAVIS_REPO_NAME=$(echo "${TRAVIS_REPO_SLUG#*/}" | sed 's/.*/\u&/')
  - export SOURCE_BRANCH="master"
script:
  - dotnet sln "Platform.$TRAVIS_REPO_NAME.sln" remove cpp/Platform.Collections.Methods.Tests/Platform.Collections.Methods.TemplateLibrary.Tests.vcxproj cpp/Platform.Collections.Methods.Tests.Console/Platform.Collections.Methods.TemplateLibrary.Tests.Console.vcxproj
  - dotnet build -c Release
  - dotnet test -c Release -f netcoreapp3.0
after_success:
  - bash ./generate-pdf.sh
  - bash ./publish-docs.sh
  - bash ./push-nuget.sh
